doctype html
html(lang="en")
  head
    meta(charset="UTF-8")
    meta(name="viewport", content="width=device-width, initial-scale=1.0")
    title Document
    link(rel="stylesheet", href="/css/contact.css")
  body 
    .container-fluid
    .row
      .col-md-3
        include ./component/sidebar
      .col-md-9(style="margin-left: 25%; width: 75%;")
        .content-contact
          p.large-text
            b Connect with me  

            .container.contact-page.py-5.px-lg-0
              .row.g-5.mx-lg-0

                .col-lg-4.col-md-12.pe-lg-0.contact-info.wow.fadeInLeft(data-wow-delay="0.1s") 
                  
                  .container-address.d-flex.align-items-center.mb-4
                    img(src="/img/contact-logo/location.png", alt="address", class="img-fluid", style="height:25px;")
                    .container-address-detail.ml-2
                      h4.h6 Address
                      p.small
                        a(href="https://www.google.com/maps?q=Noida,+Uttar+Pradesh" target="_blank") Noida, Uttar Pradesh

                  .container-address.d-flex.align-items-center.mb-4
                    img(src="/img/contact-logo/phone.png", alt="address", class="img-fluid", style="height:25px;")
                    .container-address-detail.ml-2
                      h4.h6 Call Us
                      p.small
                        a(href="tel:+919696407839") +91 9696407839

                  .container-address.d-flex.align-items-center.mb-4
                    img(src="/img/contact-logo/gmail.png", alt="address", class="img-fluid", style="height:25px;")
                    .container-address-detail.ml-2
                      h4.h6 Email Us
                      p.small
                        a(href="mailto:arnavchaturvedi0gmail.com") arnavchaturvedi0@gmail.com



                  .container-map

                    iframe(
                      src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3559.6703359174937!2d77.30490871500925!3d28.57972298243805!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x390cfba6d1eb98e3%3A0x3a1d61d63f6eac3f!2sNoida%2C%20Uttar%20Pradesh%2C%20India!5e0!3m2!1sen!2sus!4v1615831896956!5m2!1sen!2sus",
                      width="350",
                      height="350",
                      style="border:0;",
                      allowfullscreen="",
                      loading="lazy"
                    )



                .col-md-8.contact-form.wow.fadeInRight(data-wow-delay="0.1s") 
                  h6.text-secondary.text-uppercase Get In Touch
                  h1.mb-4 Contact For Any Query
                  p.mb-4 Feel free to reach out. I'm here to assist you.
                  
                  .bg-light.p-4.rounded.shadow-lg
                      form#contactForm(action="/submit-form" method="POST")
                          .row.g-3
                              .col-md-6 
                                  .form-floating
                                      label(for="name") Name *
                                      input.form-control(type="text", id="name", name="name", placeholder="Your Name", required)
                              .col-md-6 
                                  .form-floating
                                      label(for="email") Email *
                                      input.form-control(type="email", id="email", name="email", placeholder="Enter Email", required)
                              .col-md-6 
                                  .form-floating
                                      label(for="subject") Subject *
                                      input.form-control(type="text", id="subject", name="subject", placeholder="Enter Subject", required)
                              .col-md-6 
                                  .form-floating
                                      label(for="phone") Phone Number *
                                      input.form-control(type="tel", id="phone", name="phone", placeholder="Enter Phone Number", required)
                              .col-12
                                  .form-floating
                                      label(for="message") Message *
                                      textarea.form-control(placeholder="Leave a message", id="message", name="message", style="height: 150px;", required)
                                      br
                              .col-12
                                  button.btn.btn-primary.w-100.py-3(type="submit") Send Message


  include ./component/footer          

    //- script. 
    //-   document.addEventListener('DOMContentLoaded', function() {
    //-     const form = document.getElementById('contactForm');
        
    //-     form.addEventListener('submit', function(event) {
    //-       event.preventDefault();

    //-       // Gather form data
    //-       const formData = new FormData(form);
    //-       const formObject = Object.fromEntries(formData.entries());

    //-       // Log form data to console for debugging
    //-       console.log("Form Data:", formObject);

    //-       // Client-side validation
    //-       const requiredFields = ['name', 'email', 'subject', 'phone', 'message'];
    //-       for (const field of requiredFields) {
    //-         if (!formObject[field]?.trim()) {
    //-           showToast(`Please fill out the ${field} field`);
    //-           return;
    //-         }
    //-       }

    //-       // Perform form submission logic here using Fetch API
    //-       fetch(form.action, {
    //-         method: 'POST',
    //-         body: formData
    //-       })
    //-       .then(response => response.json()) // Parse the response as JSON
    //-       .then(data => {
    //-         if (data.success) {
    //-           Toastify({
    //-             text: data.message,
    //-             duration: 3000,
    //-             close: true,
    //-             gravity: "bottom",
    //-             position: "center",
    //-             backgroundColor: "#28a745"
    //-           }).showToast();
    //-           form.reset(); // Optionally reset the form after successful submission
    //-         } else {
    //-           showToast(data.message);
    //-         }
    //-       })
    //-       .catch(error => {
    //-         Toastify({
    //-           text: "An error occurred",
    //-           duration: 3000,
    //-           close: true,
    //-           gravity: "bottom",
    //-           position: "center",
    //-           backgroundColor: "#dc3545"
    //-         }).showToast();
    //-         console.error('Error:', error);
    //-       });
    //-     });

    //-     function showToast(message) {
    //-       Toastify({
    //-         text: message,
    //-         duration: 3000,
    //-         close: true,
    //-         gravity: "top",
    //-         position: "center",
    //-         backgroundColor: "#333"
    //-       }).showToast();
    //-     }
    //-   });

    script. 
      document.addEventListener("DOMContentLoaded", () => {
        const form = document.getElementById("contactForm");

        form.addEventListener("submit", async (event) => {
            event.preventDefault(); // Prevent default form submission

            const formData = new FormData(form);
            const formObject = Object.fromEntries(formData.entries());

            // Client-side validation
            const requiredFields = ["name", "email", "subject", "phone", "message"];
            for (const field of requiredFields) {
                if (!formObject[field]?.trim()) {
                    showToast(`Please fill out the ${field} field`, "error");
                    return;
                }
            }

            // Send form data using Fetch API
            try {
                const response = await fetch(form.action, {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify(formObject),
                });

                const data = await response.json();
                if (data.success) {
                    showToast(data.message, "success");
                    form.reset(); // Clear form after successful submission
                } else {
                    showToast(data.message, "error");
                }
            } catch (error) {
                console.error("Form submission error:", error);
                showToast("An error occurred. Please try again.", "error");
            }
        });

        // Toast notification function
        function showToast(message, type) {
            Toastify({
                text: message,
                duration: 3000,
                close: true,
                gravity: "top",
                position: "center",
                backgroundColor: type === "success" ? "#28a745" : "#dc3545",
            }).showToast();
        }
      });

